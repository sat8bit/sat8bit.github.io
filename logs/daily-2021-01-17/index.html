<!doctype html><html lang=ja><head><meta charset=utf-8><title>Daily/2021/01/17</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-62G1T8FBSZ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-62G1T8FBSZ');</script><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=https://sat8bit.github.io/index.xml title=三日坊主。><meta property="og:title" content="Daily/2021/01/17"><meta property="og:description" content="Todo Todo Done hugo の先日の log が出てない件の確認 Github Actions を使って hugo build + push を行う コーディングする Log hugo の先日の log が出てない件の確認 テンプレートの draft が何故か true のま"><meta property="og:type" content="article"><meta property="og:url" content="https://sat8bit.github.io/logs/daily-2021-01-17/"><meta property="article:published_time" content="2021-01-17T22:49:47+09:00"><meta property="article:modified_time" content="2021-01-17T22:49:47+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Daily/2021/01/17"><meta name=twitter:description content="Todo Todo Done hugo の先日の log が出てない件の確認 Github Actions を使って hugo build + push を行う コーディングする Log hugo の先日の log が出てない件の確認 テンプレートの draft が何故か true のま"><link rel=stylesheet href=https://sat8bit.github.io/fontawesome/css/all.min.css><link id=dark-mode-theme rel=stylesheet href=https://sat8bit.github.io/css/dark.css><script>var darkTheme=document.getElementById('dark-mode-theme')
var storedTheme=localStorage.getItem('dark-mode-storage')
if(storedTheme==='dark'){darkTheme.disabled=false}else if(storedTheme==='light'){darkTheme.disabled=true}</script><script src=https://sat8bit.github.io/js/bundle.js></script><script src=https://sat8bit.github.io/js/instantpage.min.js type=module defer></script><meta name=generator content="Hugo 0.79.1"></head><body><header><nav class=navbar><div class=nav><a href=https://sat8bit.github.io/ class=nav-logo><img src=https://sat8bit.github.io/images/icon.png width=50 height=50 alt=Logo></a><ul class=nav-links><li><a href=/about/ id=About><em class="fas fa-user fa-lg"></em></a></li><li><a href=/tags id=Tags><em class="fas fa-tag fa-lg"></em></a></li><li><a href=/categories id=Category><em class="fas fa-folder-open fa-lg"></em></a></li><li><a href=/search id=Search><em class="fas fa-search fa-lg"></em></a></li><li><a href=/archives id=Archives><em class="fas fa-archive fa-lg"></em></a></li></ul></div></nav><div class=intro-header><div class=container><div class=logs-heading><h1>Daily/2021/01/17</h1></div></div></div></header><div class=container role=main><article class=article class=blog-post><h1 id=todo>Todo</h1><table><thead><tr><th>Todo</th><th>Done</th></tr></thead><tbody><tr><td>hugo の先日の log が出てない件の確認</td><td></td></tr><tr><td>Github Actions を使って hugo build + push を行う</td><td></td></tr><tr><td>コーディングする</td><td></td></tr></tbody></table><h1 id=log>Log</h1><h2 id=hugo-の先日の-log-が出てない件の確認>hugo の先日の log が出てない件の確認</h2><p>テンプレートの draft が何故か true のまま残ってた。ただのログなので default を false に変更。</p><p>と思ったけど draft の default が false っぽいので削除すれば良さそう。</p><h2 id=github-actions-を使って-hugo-build--push-を行う>Github Actions を使って hugo build + push を行う</h2><p>今手元で build して push してるけどめんどくさいので、Github Actions を使って build した後 github に push したことがないので、やってみる。</p><p>まずは <a href=https://docs.github.com/ja/actions/reference/workflow-syntax-for-github-actions>公式ドキュメント</a> を見ながらビルドまで作ってみる。</p><h3 id=job-と-step>Job と Step</h3><p>Job とその下に Step がある。</p><p>こういうの大体どういう区切りで使うか迷うので、まとめておく。</p><ul><li>Container Image が Job 単位でしか設定できなさそう</li><li>Job は並列実行（逐次にする場合は needs を指定する）。Steps は逐次実行。</li></ul><h3 id=stepuses>Step.uses</h3><blockquote><p>ジョブでステップの一部として実行されるアクションを選択します。 アクションとは、再利用可能なコードの単位です。 ワークフロー、パブリックリポジトリ、または公開されている Docker コンテナイメージと同じリポジトリで定義されているアクションを使用できます。</p></blockquote><p>再利用可能な actions 一覧は <a href=https://github.com/actions>ここ</a>。</p><p>action.yml を見れば作り方もわかりそう？</p><h3 id=strategy>Strategy</h3><p>Job のビルドをマトリクスでやるときに使うっぽい。複数 OS バージョンとか。</p><ul><li>OS バージョンをマトリクスする場合は <code>runs-on</code> でやる必要がある。</li><li>それ以外は <code>${{matrics.変数名}}</code> みたいに使えば良い。</li><li><code>include</code> key を使うと、マトリクスの変数をセットにできるっぽい？</li><li>max-parallel で Job を並列化できる</li></ul><p>良さそう。今回は使わないので必要になったときに。</p><h3 id=service>Service</h3><blockquote><p>ワークフロー中のジョブのためのサービスコンテナをホストするために使われます。 サービスコンテナは、データベースや Redis のようなキャッシュサービスの作成に役立ちます。 ランナーは自動的に Docker ネットワークを作成し、サービスコンテナのライフサイクルを管理します。</p></blockquote><p>ワークフロー中でキャッシュとか一時的に必要になったときの話かな。
使わなそうなので保留。必要そうになったときに調べる。</p><h3 id=とか調べてたら>とか調べてたら・・・</h3><p>既に <a href=https://github.com/peaceiris/actions-hugo>actions を作ってくれてる方がいた</a>。すごいありがたい。</p><p>沿って作ってみる。内容は上のリンクのコピペなので割愛します。</p><h2 id=next>Next</h2><h2 id=参考>参考</h2></article></div><footer><div><a href=https://twitter.com/sat8bit name=Twitter><em class="fab fa-twitter"></em></a><div class=container><p class="credits copyright"><a href=https://sat8bit.github.io/about>Satoshi Koizumi</a>
&nbsp;&copy;
2021
&nbsp;/&nbsp;
<a href=https://sat8bit.github.io/>三日坊主。</a>
&nbsp;&ndash;&nbsp;
<em class="fas fa-moon" id=dark-mode-toggle></em></p><p class="credits theme-by"><a href=https://gohugo.io>Hugo</a>&nbsp;
<a href=https://github.com/matsuyoshi30/harbor>Harbor</a></p></div></footer></body></html>