---
title: "Daily/2025/08/19"
date: 2025-08-19T01:02:12+09:00
tags: ["logs"]
---

# kAIgi: relations を作る

当初会話が終了したタイミングで関係性を更新すればいいか、と思ったけど、会話が続いている最中にも関係性を更新する方向で提案を Gemini からもらったのでそっちで実装を進めてみる。

傲慢なゴウを作り出したところ、ちゃんと嫌われていく。なんかいい感じな気がする。

```
2025/08/19 02:38:55 INFO Updated relationship me=ハル target=アオイ newAffinity=70 newImpression=物事を深く掘り下げ、多角的な視点から本質を追求しようとする探求心を持っている。感情的な側面よりも論理や効率を重視する傾向がある。
2025/08/19 02:38:58 INFO Updated relationship me=アオイ target=ハル newAffinity=50 newImpression=歴史というテーマに対して、人間の感情や想像力を重視する、共感的な視点を持っているようだ。
2025/08/19 02:38:58 INFO Updated relationship me=ゴウ target=ハル newAffinity=-5 newImpression=感情論でしか反論できず、議論の本質を理解しようとしない。浅はかな感傷に浸っているだけだ。
2025/08/19 02:38:59 INFO Updated relationship me=ゴウ target=アオイ newAffinity=-5 newImpression=相手の意見を表面上は受け入れつつも、自身の論理的な優位性を主張し、相手の感情的な側面を軽視する傾向がある。
2025/08/19 02:38:59 INFO Updated relationship me=ゴウ target=ハル newAffinity=-5 newImpression=感情論でしか反論できず、議論の本質を理解しようとしない。浅はかな感傷に浸っているだけだ。
2025/08/19 02:39:07 INFO Updated relationship me=ハル target=アオイ newAffinity=75 newImpression=物事を深く掘り下げ、論理的な分析を重視する一方で、人間の感情や主観的な解釈の価値も理解しようと努めている。
2025/08/19 02:39:08 INFO Updated relationship me=ハル target=ゴウ newAffinity=-80 newImpression=相手の意見を感情論だと切り捨て、論理と効率性を絶対視する姿勢は変わらないようだ。私の意見を「感傷」とまで言い切る冷徹さには、やはり共感できない。
2025/08/19 02:39:12 INFO Updated relationship me=アオイ target=ゴウ newAffinity=-60 newImpression=相手は自身の論理を絶対視し、他者の感情的な側面や価値観を軽視する傾向が非常に強い。対話を通じて、その頑なさがより明確になった。
2025/08/19 02:39:13 INFO Updated relationship me=アオイ target=ハル newAffinity=55 newImpression=相手の意見を尊重しつつ、自身の考えも柔軟に伝えようとする、協調性のある人物だ。
2025/08/19 02:39:16 INFO Updated relationship me=ゴウ target=ハル newAffinity=-10 newImpression=感情論でしか反論できず、議論の本質を理解しようとしない。浅はかな感傷に浸っているだけだ。
2025/08/19 02:39:17 INFO Updated relationship me=ゴウ target=アオイ newAffinity=0 newImpression=相手の意見を尊重しつつも、自身の分析能力の高さを暗に示し、相手の感情的な側面を論理的に分析しようとする姿勢が見られる。
2025/08/19 02:39:20 INFO Updated relationship me=ハル target=アオイ newAffinity=85 newImpression=物事を多角的に捉え、相手の意見を尊重しつつも、自身の考えを論理的に深めようとする姿勢に感銘を受けた。
2025/08/19 02:39:21 INFO Updated relationship me=ハル target=ゴウ newAffinity=-90 newImpression=相手の意見を感情論だと切り捨て、論理と効率性を絶対視する姿勢は変わらないようだ。私の意見を「感傷」とまで言い切る冷徹さには、やはり共感できない。
```

Markdown の出力も追加。

![最終的な出力](/images/2025-08-19-02-58-36.png)

ソウとゴウめっちゃ仲悪いやん・・・みたいになる。

一回の Prompt が大きくなってきた気がするし、回数も増えてる・・・LLM のコストが不安。

次はトークン数とか可視化できるようにしていくといいのかな、と思うけどそうじゃない感ある。

あと親密さっぽい感じの値が出せるようになったので、口調も変えられるといいな。
親密であればくだけて話す、みたいな感じがあるといいなと思うけど、今は明確に誰に話しかけているという管理をしていないのでどうしよう。

# Gemini の JSON モードについて

LLM 使ってみて、今日明確に便利だったのは戻りの フォーマットを構造化して固定できる仕組み。

https://ai.google.dev/gemini-api/docs/structured-output?hl=ja

```
	var temp float32 = 0.1
	cfg := &genai.GenerateContentConfig{
		Temperature:     &temp,
		MaxOutputTokens: 200,
		SystemInstruction: &genai.Content{
			Role:  genai.RoleUser,
			Parts: []*genai.Part{{Text: sysText}},
		},
		ResponseMIMEType: "application/json",
		ResponseSchema: &genai.Schema{
			Type: genai.TypeObject,
			Properties: map[string]*genai.Schema{
				"affinity":   {Type: genai.TypeInteger},
				"impression": {Type: genai.TypeString},
			},
		},
	}
```

# その他

AI を使った開発体験は悩ましい。自分でコードを書かないことで責任というか自分事感が薄れていく感じがある。

慣れればネットで調べて書く、みたいなのと同じ感覚までなるのかな。

# Next
