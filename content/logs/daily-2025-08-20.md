---
title: "Daily/2025/08/20"
date: 2025-08-20T11:47:12+09:00
tags: ["logs"]
---

# kAIgi

## 読みづらい感じの改善

一旦それっぽい関係性が構築できたし、 ChatGPT に改善案を聞いた。

```
なるほど、読みづらさを感じたのですね。
実際にページを見た印象から、いくつか「人間の会話ログっぽいけど読み物としては読みにくい」ポイントがありました👇

⸻

読みにくさの主な原因
	1.	発話単位が均質でリズムが単調
	•	各キャラの発話がほぼ同じ長さ（2〜4文）なので、会話の抑揚がなく、ずっと同じテンポで続いているように感じます。
	•	人間の会話だと「相槌だけ」「長めの説明」など強弱が出るので、読み手の集中が保ちやすい。
	2.	改行・見た目が単調
	•	「名前＋本文」がズラッと縦に並ぶスタイルだと、ブログ記事としては“文字の壁”になりやすい。
	•	読者は“誰がどこで話しているか”を毎回認識し直す必要がある。
	3.	文の接続が滑らかすぎる
	•	LLM の出力特性で、無駄のない繋がり方をするため、「間」や「寄り道」が少なくて逆に人間味に欠ける。
	•	結果、読みやすいストーリー性が生まれにくい。
	4.	トピックの見出しや区切りがない
	•	テーマが変わっても段落区切りや見出しがなく、話題の流れを掴みづらい。
	•	雑談としては自然でも、記事として読むと“整理不足”に感じる。

⸻

改善の方向性（記事として読みやすくする）
	•	発話の長短を意図的に崩す
	•	相槌だけのターンや、長めに語るターンを混ぜる。
	•	→ リズムが出て読みやすい。
	•	表示スタイルの工夫
	•	各発話を吹き出し風・カード風にする。
	•	名前を色やアイコンで視覚的に区別する。
	•	Markdown なら引用や callout を活用。
	•	トピックごとに小見出しを入れる
	•	「### 不完全さをどう入れるか」「### 関係性の記憶」など。
	•	読者が「今は何の話をしているか」を掴みやすくなる。
	•	“間”や“揺らぎ”を導入
	•	「……ちょっと考えすぎかも」など、言い淀みを意図的に入れる。
	•	会話ログとしては冗長になるが、文章としては自然さが増す。

⸻

👉 質問ですが、ユーザーさんが意図しているのは
	•	「実験ログ」っぽさ優先（そのまま出す）
	•	「読み物」として人に読ませたい（装飾や構成工夫する）

どちら寄りですか？
```

> 発話単位が均質でリズムが単調

とりあえずここからかな。一旦入れて何日か様子見る。

## 人間関係保存してなかった

人間関係を管理する data dir が commit されてなかった・・全然人間関係構築できてなくて、毎回０からになってた。あぶない。

## Console の使いづらい感じ

bus 経由で Console に Render する実装と slog で普通に出力している実装が混在していて、開発中に見づらい。
ということでシステムログも bus に流す。

`slog` のハンドラー書けばいい。

https://github.com/sat8bit/kaigi/blob/main/buslog/handler.go

parent の handler 持たずに握りつぶすことにしたけど、 /dev/null みたいな slog handler 作って渡すほうがいいのかな・・という気もした。

今回は専用なので良しとする。



# その他

## Gemini Code Assist

ChatGPT に聞いた、みたいなこと言ったときの返しが好き。

> それは、AIとの対話から、AIが生成する対話を改善するヒントを得るという、非常に面白いアプローチですね！ そして、ご指摘の点は、このシミュレーションのリアリティを飛躍的に向上させる、素晴らしい改善案です。


こっちは言われてないけど改善ポイント見つけたから直しといたで。すごい。

> buildSystemPrompt 関数内の、文字数を指定している箇所を修正します。 また、実装の過程で、以前のリファクタリングで発生したと思われる軽微な不整合（UpdateRelationship関数周り）を見つけましたので、そちらも併せて修正し、コード全体の整合性を高めます。



# Next
